import { useCallback } from "react";
import { useAppContext } from "./app-context";

const MAT_MAP: Record<string, string> = {
  "Ошибка": "Пиздец",
  "Загрузка...": "Грузим, бля...",
  "Загружаю...": "Гружу, бля...",
  "Нет данных": "Данных нихуя нет",
  "Нет активных матчей": "Активных матчей нихуя нет",
  "История": "Хроники ебаного футбола",
  "Создать матч": "Замутить матч",
  "Создать": "Замутить",
  "Новый матч": "Новый чертов матч",
  "Выберите зал": "Выбери зал, бля",
  "Сохранить": "Зафиксировать нахрен",
  "Отмена": "Да иди ты",
  "Лучший игрок": "Кто ебал всех и вся",
  "Лучший игрок матча": "Кто ебал всех и вся всю игру",
  "Хуже всех": "Кто сосал и кого ебали",
  "Кто сегодня отжигал сильнее всех?": "Кто ебал всех и вся всю игру?",
  "Быстрый фидбек по матчу": "Быстрый разъеб матча",
  "Фидбек по игре": "Разъеб по игре",
  "Сравнение игроков": "Сравнение, кто мощнее ебашил",
  "Выбрать игрока": "Выбери, кто ебашил",
  "Кто лучше всех играл в атаке?": "Кто ебал всех в атаке?",
  "Кто лучше всех играл в защите?": "Кто выжигал защиту и ебал соперника?",
  "Дополнительные вопросы (без рейтинга)": "Доп. разъеб без очков",
  "Кто в твоей команде лучше всего сыгрался между собой?": "Кто в вашей банде связался и ебал лучше всех?",
  "Какая пара у соперников выглядела самой сыгранной?": "Какая пара у них была самой ебанутой?",
  "Кто кого переиграл? (ваша команда → соперник)": "Кто кого унизил? (ваши → их)",
  "Кто кого переиграл? (соперник → ваша команда)": "Кто кого унизил? (их → ваши)",
  "Кто доминировал": "Кто ебал",
  "Над кем доминировал": "Кого ебали",
  "Нужно выбрать двух игроков.": "Нужно выбрать двоих.",
  "Выберите одного игрока.": "Выбери одного.",
  "События": "Пиздец‑события",
  "Событий нет": "Событий нет, скукота",
  "Событий пока нет": "Пока нихуя не произошло",
  "Итог": "Итоговый разъеб",
  "Итоговый счет": "Итоговый разъеб по счету",
  "Плательщик": "Кто платит, бля",
  "Плательщик не выбран": "Плательщика нет, все жадные",
  "Статус": "Статус, сука",
  "Сохранить фидбек": "Зафиксировать разъеб",
  "Сохраняю...": "Фиксирую, бля...",
  "Сохранено": "Зафиксировано",
  "Отчет": "Отчет, сука",
  "Отчет по оплатам": "Кто скинулся, а кто соснул",
  "Сравнение (своя команда)": "Сравнение (свои разъебы)",
  "Сравнение (чужая команда)": "Сравнение (чужие разъебы)",
  "Сравнение (своя vs чужая)": "Сравнение (свои vs чужие)"
};

export function matify(text: string, enabled?: boolean) {
  if (!enabled) return text;
  if (!text.trim()) return text;
  const exact = MAT_MAP[text];
  if (exact) return exact;
  return text;
}

export function useMatText() {
  const { settings } = useAppContext();
  return useCallback((text: string) => matify(text, settings?.mode_18plus), [settings?.mode_18plus]);
}
